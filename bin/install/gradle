#!/usr/bin/env sh
# Gradle installer
# Arguments : version mirrors
. $HOME/bin/install/common.sh

version=$1
shift

if test -z "$1"; then
    # default mirror
    mirror="http://downloads.gradle.org/distributions"
else
    mirror="$1"
fi
echo "Installing gradle"
echo "Checking gradle version ${version}..."
url="${mirror}/gradle-${version}-bin.zip"
output="/tmp/gradle-${version}-bin.zip"
download_file $url $output

echo "Extracting gradle $version..."
unzip $output -d $HOME/lib/

link_lib "gradle" $version

link_binary "gradle" "gradle" $version
echo "Checking gradle bin link..."

echo "Cleaning downloaded file..."
rm $output
